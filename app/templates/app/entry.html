<td class="align-text-bottom">{% extends 'app/base.html' %}

{% load static %}

{% load templatetags %}

{% load crispy_forms_tags %}

{% block title %}Logs{% endblock %}

{% block content %}
<div class="h-100 d-flex justify-content-center align-items-center bg-light">

  <div class="border rounded p-5 bg-white">

      <table class="table m-0">
        <thead>
        </thead>
        <tbody>
            <tr>
              <td class="align-text-bottom"><b>Date/time</b></td>
              <td class="align-text-bottom">{{ entry.created_at }}</td>
            </tr>
            <tr>
              <td class="align-text-bottom"><b>Category</b></td>
              <td class="align-text-bottom">{{ entry.category }}</td>
            </tr>
            {% for field in fields %}
              <tr>
                <td class="align-text-bottom"><b>{{ field.name }}</b></td>
                <td class="align-text-bottom">{{ entry|get_object_attribute:field.type }}</td>
              </tr>
            {% endfor %}
            <tr>
              <td class="align-text-bottom"><b>Employee</b></td>
              <td class="align-text-bottom">{{ entry.user.first_name }} {{ entry.user.last_name }}</td>
            </tr>
            <tr>
              <td class="align-text-bottom"><b>Status</b></td>
              <td class="align-text-bottom">
                {% if entry.category.is_tracked %}
                  <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#change_status">{{ entry.get_status_display }} <i class="far fa-edit"></i></button>
                {% else %}
                  &mdash;
                {% endif %}
              </td>
            </tr>
        </tbody>
      </table>

    </div>


    <div class="modal" id="change_status" tabindex="-1" role="dialog" aria-labelledby="change_status_label" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="change_status_label">Change status</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">

            <form method="post">
              <div class="form-group">
                <label for="exampleFormControlSelect1">Status</label>
                <select class="form-control" id="exampleFormControlSelect1">
                  <option>Unresolved</option>
                  <option>In progress</option>
                  <option>Resolved</option>
                </select>
              </div>
              <input type="submit" value="Submit" disabled class="btn btn-primary btn-block">
              <button type="button" class="btn btn-link btn-block mt-3" data-dismiss="modal">Cancel</button>
            </form>

          </div>
          <!-- <div class="modal-footer">

            <input type="submit" value="Submit" class="btn btn-primary btn-block">
          </div> -->
        </div>
      </div>
    </div>


</div>
{% endblock %}
